{% extends "base.html.twig" %}

{% block stylesheets %}
  {{ parent() }}
  {{ encore_entry_link_tags('CreateBuild') }}
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  {{ encore_entry_script_tags('CreateBuild') }}
{% endblock %}
{% block body %}
  {% if app.user %}


  <nav>
    <div class="nav nav-tabs nav-fill navbar-light bg-dark">
      <button class="fs-5 nav-link active" data-bs-toggle="tab" data-bs-target="#tab-weapon-1" type="button">Weapon 1</button>
      <button class="fs-5 nav-link" data-bs-toggle="tab" data-bs-target="#tab-weapon-2" type="button">Weapon 2</button>
      <button class="fs-5 nav-link" data-bs-toggle="tab" data-bs-target="#tab-gears" type="button">Gears</button>
      <button class="fs-5 nav-link" data-bs-toggle="tab" data-bs-target="#tab-stats" type="button">Stats</button>
    </div>
  </nav>
  <div class="tab-content p-2 p-lg-0">

    {% for weapon in 1..2 %}


    <div class="tab-pane fade {% if weapon == 1 %}show active{% endif %}" id="tab-weapon-{{weapon}}">
      
      <div class="my-4 row">

        <div class="col-12 col-lg-3 p-2">
          <select class="weaponSelect form-select my-2">
            <option hidden selected>Select Weapon {{weapon}}</option>
          </select>
            
          <div class="text-center mt-4 d-none spinner{{weapon}}">
            <div class="spinner-border"></div>
          </div>
          
          <div class="weaponSidebar d-none">


            <div class="progress position-relative mt-4">
              <div class="progress-bar" id="pointProgres-{{weapon}}" role="progressbar"></div>
              <div class="pointProgresText justify-content-center d-flex position-absolute w-100 fs-5 m-0">Points Restant : 15</div>
            </div>
        
            <div class="row px-3 mt-4">
              {% for cadre in 1..3 %}
                <div class="col p-1">
                  <div class="dropdown dropup">
                    <button class="mainskillbtn btn dropdown-toggle w-100 p-0" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown">
                      <img class="dropdown-item p-0 mainSkillSelected" data-id="0" src="{{asset("img/mainSkill.png")}}"/>
                    </button>
                    <ul class="dropdown-menu p-0 mainskillul" weapon="{{weapon}}" id="ulMainSkill-{{weapon}}-{{cadre}}" aria-labelledby="dropdownMenuButton">
                      {% for li in 1..7 %}
                        <li class="w-100">
                          <img class="mainskillli dropdown-item p-0 d-none" src="{{asset("img/mainSkill.png")}}" data-id="0"/>
                        </li>
                      {% endfor %}
                    </ul>
                  </div>
                </div>
              {% endfor %}
            </div>


            <div class="p-2 mt-4">
            <button type="button" class="btn btn-outline-danger w-100 resetButton">{% trans %}create.reset{% endtrans %}</button>
          </div>

        </div>
      </div>

      <div class="col-12 col-lg-9 p-1">
        <div class="text-center mt-4 d-none spinner{{weapon}}">
          <div class="spinner-border"></div>
        </div>
        <div class="row py-3 gx-0 skillSection d-none">
          {% for side in 1..2 %}
            <div class="col" id="side-{{side}}">
              <div class="row mb-2 justify-content-center fs-3 fw-bold branchName{{weapon}}"></div>
              <div class="position-relative">
                <div class="row m-0 p-2 svgContainer svgContainer{{weapon}}">
                  <svg class="p-0 bgSvg" id="bgSvg-{{weapon}}-{{side}}"></svg>
                </div>
                <div class="row m-0 p-2">
                  {% for row in 1..6 %}
                    <div class="row gx-0">
                      {% for col in 1..5 %}
                        <div class="col skill-container skill-container{{weapon}}" id="skill-{{weapon}}-{{side}}-{{row}}-{{col}}" data-id="0">
                          <div class="skill-container-icon">
                            <img class="w-100" src="{{asset("img/emptyCadre.png")}}"/>
                          </div>
                        </div>
                      {% endfor %}
                    </div>
                  {% endfor %}
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>

      </div>
    </div>
    {% endfor %}

    <div class="tab-pane fade" id="tab-stats">
      <div class="my-4 fs-3 text-center">
        Comming Soon
      </div>
    </div>

    <div class="tab-pane fade" id="tab-gears">
      <div class="my-4 fs-3 text-center">
        Comming Soon
      </div>
    </div>

  </div>




  {% else %}
    <div class="p-3 justify-content-center text-center">
      <div class="fs-4 mb-4 text-center">{% trans %}create.connect{% endtrans %}</div>
      <a href="{{path('app_security_login')}}" class="btn btn-outline-light fs-4">{% trans %}login.login{% endtrans %}</a>
    </div>
  {% endif %}
{% endblock %}
